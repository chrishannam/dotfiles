* Bootstrap without Nix

Instructions how to get Nix configured on a new machine.

** Prerequisites

Make sure you have nix installed on your system and then::
** Steps
#+begin_src bash
mkdir -p ~/.nixpkgs/
cd ~/.nixpkgs
git clone https://github.com/signalpillar/dotfiles
ln -s `pwd`/dotfiles/nix/nixpkgs/config.nix config.nix
#+end_src

* Install the packages

#+begin_src bash
nix-env -iA nixpkgs.myPackages
#+end_src

** Resources

- [Inspiration](https://github.com/garbas/dotfiles)
* Build Python package

Enter the shell with the build dependencies so we can build the virtual
environment.

#+begin_src bash
nix-shell \
  -p pkgconfig \
  -p openssl \
  -p libffi \
  -p postgresql \
  -p graphviz
  # This line is not required unless site-packages are shared with virtualenv.
  # -p '(python36.withPackages(ps: with ps; [ cryptography ]))'
#+end_src

=gcc= and some other tools are installed globally.

Snippet from tox file that customises install command.

#+begin_example
[testenv]
...
install_command = pip install --prefix {envdir} -vv --extra-index-url={env:EXTRA_INDEX_URL:} {opts} {packages}
#+end_example

=--prefix= is required because for some reason by default it is python artifact
path - not the root of the environment directory.
